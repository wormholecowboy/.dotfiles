#!/bin/zsh

# Claude Code profile selector with optional permission skip

choice=$(echo "personal\nrebar\nlead-venture" | fzf --prompt="Select Claude profile: ")
if [ -n "$choice" ]; then
  skip_perms=""
  echo -n "Skip permissions? [y/N]: "
  read -r answer
  if [[ "$answer" =~ ^[Yy]$ ]]; then
    skip_perms="--dangerously-skip-permissions"
  fi

  case "$choice" in
    "personal")
      CLAUDE_CONFIG_DIR=~/.claude-personal command claude $skip_perms "$@"
      ;;
    "rebar")
      CLAUDE_CONFIG_DIR=~/.claude-rebar command claude $skip_perms "$@"
      ;;
    "lead-venture")
      CLAUDE_CONFIG_DIR=~/.claude-lead-venture command claude $skip_perms "$@"
      ;;
  esac
fi
